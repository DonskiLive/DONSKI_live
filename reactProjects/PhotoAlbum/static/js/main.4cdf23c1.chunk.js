(this.webpackJsonphomework_63=this.webpackJsonphomework_63||[]).push([[0],{53:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(23),r=a.n(n),l=(a(30),a(31),a(53),a(10)),i=a(2),o=a(5),d=a(3),m=a(6),b=a(0),j=function(){var e=Object(c.useContext)(J),t=e.currentUser,a=e.logout,s=e.getUserNameById,n=Object(d.f)();return Object(b.jsx)("nav",{className:"navbar navbar-expand bg-primary",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 ",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(m.c,{exact:!0,to:"/",children:"Home"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(m.c,{to:"/users",children:"Users"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(m.c,{to:"/albums",children:"Albums"})})]}),t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"text-white me-3 list-unstyled",children:"Hi, ".concat(s(+t),"!")}),Object(b.jsx)("li",{className:"text-white list-unstyled",onClick:function(){a(),n.push("/")},style:{cursor:"pointer"},children:"Logout"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"text-white me-3 list-unstyled",children:"Hi, guest!"}),Object(b.jsx)(m.b,{className:"nav-item",to:"/login",children:"Login"})]})]})})},u=function(e){var t=e.user,a=Object(c.useContext)(J).currentUser;return Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card text-center h-100 mb-3 px-2",children:[Object(b.jsx)("div",{className:"card-body d-flex align-items-center",children:t.avatar?Object(b.jsx)("img",{src:t.avatar,className:"card-img-top",alt:"..."}):Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10rem",height:"10rem",fill:"currentColor",className:"bi bi-person-fill mx-auto text-primary",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})})}),Object(b.jsxs)("h5",{className:"card-title",children:[t.fName," ",t.lName]}),Object(b.jsx)("p",{className:"card-text",children:t.email}),a===t.id?Object(b.jsx)(m.b,{to:"/user/".concat(t.id),className:"btn btn-dark mb-3",children:"profile edit"}):Object(b.jsx)(m.b,{to:"/albums/user/".concat(t.id),className:"btn btn-primary mb-3",children:"view albums"})]})})},h=function(e){var t=e.history,a=Object(c.useContext)(J),s=a.users,n=a.currentUser;return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"text-center my-5",children:s.length?"All our users":"You can be first one!"}),Object(b.jsx)("div",{className:"row row-cols-2 row-cols-md-4 justify-content-center",children:s.map((function(e){return Object(b.jsx)(u,{user:e},e.id)}))}),!n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"d-grid gap-2 col-4 mx-auto",children:Object(b.jsx)("button",{className:"btn btn-primary mb-3",onClick:function(){return t.push("/registration")},children:"Registration"})})]})]})},x=function(e){var t=e.album,a=Object(c.useContext)(J),s=a.getUserNameById,n=a.currentAlbumPhotos,r=Object(d.f)(),l=s(t.userId);return Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card text-center h-100 mb-3 px-2",children:[Object(b.jsx)("div",{className:"card-body d-flex align-items-center",children:Object(b.jsx)("img",{src:t.cover,className:"card-img-top",alt:"..."})}),Object(b.jsx)("h5",{className:"card-title",children:t.title}),Object(b.jsx)("h6",{children:n(t.id).length?"contains ".concat(n(t.id).length," photo"):"is empty"}),Object(b.jsxs)("p",{children:["album by: ",l]}),Object(b.jsx)("button",{className:"btn btn-primary btn-sm mb-3",onClick:function(){return r.push("/album/".concat(t.id,"/").concat(l))},children:"View album"})]})})},O=function(e){var t=e.match,a=Object(c.useContext)(J).albums,s=Object(c.useContext)(J).getUserNameById,n=+t.params.id;return n&&(a=a.filter((function(e){return+e.userId===+n}))),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"text-center my-5",children:n?"Albums by ".concat(s(n)):"All our albums"}),Object(b.jsx)("div",{className:"row row-cols-2 row-cols-md-4 justify-content-center",children:a.map((function(e){return Object(b.jsx)(x,{album:e},e.id)}))})]})},p=function(){return Object(b.jsx)("div",{className:"container-fluid",style:{backgroundImage:"url(https://assets2.rappler.com/2021/01/carousel-2.jpg)",height:"calc(100vh - 57px)",backgroundRepeat:"none",backgroundSize:"cover",paddingTop:"250px"},children:Object(b.jsx)("h1",{className:"text-center my-5 bg-primary text-white w-50 mx-auto p-2",style:{fontSize:"45px"},children:"Wellcome to our albums App"})})},f=function(){var e=JSON.parse(localStorage.getItem("users"));return e||[]},v=function(e){return localStorage.setItem("users",JSON.stringify(e))},g=function(e){localStorage.setItem("currentUserId",JSON.stringify(e))},N=function(){localStorage.removeItem("currentUserId")},w=a(11),y=function(e){var t=e.message;return Object(b.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})},C=function(){var e=Object(c.useState)({fName:"",lName:"",email:"",password:"",avatar:""}),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(null),r=Object(o.a)(n,2),l=r[0],m=r[1],j=Object(d.f)(),u=Object(c.useContext)(J).addUser,h=function(e){s(Object(i.a)(Object(i.a)({},a),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{className:"container my-3",children:[l&&Object(b.jsx)(y,{message:l}),Object(b.jsx)("div",{className:"w-50 mx-auto",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(null),a.fName.trim()&&a.email.trim()&&a.password.trim()&&(u(a)?j.push("/users"):(m("user specified email is already exist"),s(Object(i.a)(Object(i.a)({},a),{},{email:""}))))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"First Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"fName",value:a.fName,onChange:h})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Last Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"lName",value:a.lName,onChange:h})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"email",value:a.email,onChange:h})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"password",value:a.password,onChange:h})]}),Object(b.jsxs)("div",{className:"form-group mb-2",children:[Object(b.jsx)("label",{children:"Avatar"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"avatar",value:a.avatar,onChange:h})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Registartion"})})]})})]})},A=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(null),r=Object(o.a)(n,2),l=r[0],m=r[1],j=function(e){var t=e.target;s(Object(i.a)(Object(i.a)({},a),{},Object(w.a)({},t.name,t.value)))},u=Object(c.useContext)(J).changeCurrentUser,h=Object(d.f)();return Object(b.jsx)("div",{className:"container my-5",children:Object(b.jsxs)("div",{className:"col-6 mx-auto my-5",children:[l&&Object(b.jsx)(y,{message:l}),Object(b.jsx)("h2",{className:"text-center",children:"Enter your data please"}),Object(b.jsx)("input",{className:"form-control my-3",type:"text",name:"email",placeholder:"Type email",onChange:j,value:a.email}),Object(b.jsx)("input",{className:"form-control my-3",type:"text",name:"password",placeholder:"Type password",value:a.password,onChange:j}),Object(b.jsx)("div",{className:"d-flex justify-content-end",children:Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){m(null),u(a)?h.push("/users"):(m("login or password is wrong"),s({email:"",password:""}))},children:"Login"})})]})})},I=function(e){var t=e.album,a=e.setCurrentAlbum,s=e.currentAlbum,n=s?s.id:null,r=Object(c.useContext)(J),l=r.addNewPhoto,d=r.deleteAlbum,m=r.currentAlbumPhotos,j=Object(c.useState)({title:"",src:"",albumId:t.id}),u=Object(o.a)(j,2),h=u[0],x=u[1],O=function(e){x(Object(i.a)(Object(i.a)({},h),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card text-center h-100 mb-3 px-2",children:[Object(b.jsxs)("div",{className:"card-body d-flex align-items-center",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-octagon-fill position-absolute text-danger",viewBox:"0 0 16 16",onClick:function(){window.confirm("You really want to delete album: ".concat(t.title,"?"))&&d(t.id)},style:{top:"5px",right:"5px",cursor:"pointer"},children:Object(b.jsx)("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zm-6.106 4.5L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"})}),Object(b.jsx)("img",{src:t.cover,className:"card-img-top",alt:"..."})]}),Object(b.jsx)("h5",{className:"card-title",children:t.title}),Object(b.jsx)("h6",{children:m(t.id).length?"contains ".concat(m(t.id).length," photo"):"is empty"}),n!==t.id?Object(b.jsx)("button",{className:"btn btn-primary btn-sm mb-2",onClick:function(){return a(t)},children:"View album"}):Object(b.jsx)("button",{className:"btn btn-primary btn-sm mb-2",onClick:function(){return a(null)},children:"Close album"}),Object(b.jsx)("button",{className:"btn btn-success btn-sm mb-2",type:"button","data-bs-toggle":"modal","data-bs-target":"#addPhotoModal_".concat(t.id),children:"add new photo"}),Object(b.jsx)("div",{className:"modal fade",id:"addPhotoModal_".concat(t.id),tabIndex:"-1","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsxs)("h5",{className:"modal-title",children:['Add photo to album "',t.title,'"']}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){x(Object(i.a)(Object(i.a)({},h),{},{title:"",src:""}))}})]}),Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsx)("input",{className:"form-control my-3",type:"text",name:"title",placeholder:"Type photo title",value:h.title,onChange:O}),Object(b.jsx)("input",{className:"form-control my-3",type:"text",name:"src",placeholder:"Type photo src",value:h.src,onChange:O})]}),Object(b.jsx)("div",{className:"modal-footer",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){l(h),x(Object(i.a)(Object(i.a)({},h),{},{title:"",src:""}))},children:"add photo"})})]})})})]})})},S=function(e){var t=e.photo,a=Object(c.useContext)(J).deletePhoto;return Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card text-center h-100",children:[Object(b.jsxs)("div",{className:"card-body d-flex align-items-center",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-octagon-fill position-absolute text-danger",viewBox:"0 0 16 16",onClick:function(){window.confirm("You really want to delete photo: ".concat(t.title,"?"))&&a(t.id)},style:{top:"5px",right:"5px",cursor:"pointer"},children:Object(b.jsx)("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zm-6.106 4.5L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"})}),Object(b.jsx)("img",{src:t.src,alt:"...",className:"card-img-top"})]}),Object(b.jsx)("h5",{className:"card-title",children:t.title})]})})},k=function(e){var t=e.currentAlbum,a=Object(c.useContext)(J).photos.filter((function(e){return+e.albumId===+t.id}));return Object(b.jsxs)("div",{className:"container mt-3",children:[Object(b.jsx)("h3",{className:"text-center",children:t.title}),Object(b.jsx)("div",{className:"row row-cols-1 row-cols-md-3",children:a.map((function(e){return Object(b.jsx)(S,{photo:e},e.id)}))})]})},U=function(){var e=Object(c.useContext)(J),t=e.currentUser,a=e.addNewAlbum,s=e.currentUserAlbums,n=Object(c.useState)({title:"",cover:"",userId:t}),r=Object(o.a)(n,2),l=r[0],d=r[1],m=function(e){d(Object(i.a)(Object(i.a)({},l),{},Object(w.a)({},e.target.name,e.target.value)))},j=Object(c.useState)(null),u=Object(o.a)(j,2),h=u[0],x=u[1],O=s();return Object(b.jsxs)("div",{className:"col-8 p-3 my-2",children:[Object(b.jsx)("h3",{className:"text-center",children:"My albums"}),Object(b.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4 p-2 justify-content-center",children:O.map((function(e){return Object(b.jsx)(I,{album:e,setCurrentAlbum:x,currentAlbum:h},e.id)}))}),Object(b.jsx)("button",{className:"w-100 btn btn-success mt-2",type:"button","data-bs-toggle":"modal","data-bs-target":"#addAlbumModal",children:"add new album"}),Object(b.jsx)("div",{className:"modal fade",id:"addAlbumModal",tabIndex:"-1","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",children:"Make your new photo album"}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){d(Object(i.a)(Object(i.a)({},l),{},{title:"",cover:""}))}})]}),Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsx)("input",{className:"form-control my-3",type:"text",name:"title",placeholder:"Type album title",value:l.title,onChange:m}),Object(b.jsx)("input",{className:"form-control my-3",type:"text",name:"cover",placeholder:"Type cover src",value:l.cover,onChange:m})]}),Object(b.jsx)("div",{className:"modal-footer",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){a(l),d(Object(i.a)(Object(i.a)({},l),{},{title:"",cover:""}))},children:"add album"})})]})})}),h&&Object(b.jsx)(k,{currentAlbum:h})]})},L=function(){var e=Object(c.useContext)(J),t=e.getCurrentUser,a=e.updateUser,s=e.deleteUser,n=Object(c.useState)(t()),r=Object(o.a)(n,2),l=r[0],m=r[1],j=Object(d.f)(),u=function(e){m(Object(i.a)(Object(i.a)({},l),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"card col-4 text-center p-3 my-2",children:["demo"!==l.email&&Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-x-octagon-fill position-absolute text-danger",viewBox:"0 0 16 16",onClick:function(){window.confirm("You really want to delete user: ".concat(l.fName," ").concat(l.lName,"?"))&&(s(l.id),j.push("/"))},style:{top:"5px",right:"5px",cursor:"pointer"},children:Object(b.jsx)("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zm-6.106 4.5L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"})}),Object(b.jsxs)("h3",{className:"card-title",children:[l.fName," ",l.lName]}),l.avatar?Object(b.jsx)("img",{src:l.avatar,className:"card-img-top",alt:"..."}):Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10rem",height:"10rem",fill:"currentColor",className:"bi bi-person-fill mx-auto text-primary",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l.fName.trim()&&l.email.trim()&&l.password.trim()&&a(l)},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"First Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"fName",value:l.fName,onChange:u})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Last Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"lName",value:l.lName,onChange:u})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"email",value:l.email,disabled:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"password",value:l.password,onChange:u})]}),Object(b.jsxs)("div",{className:"form-group mb-2",children:[Object(b.jsx)("label",{children:"Avatar"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"avatar",value:l.avatar,onChange:u})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Save changes"})})]})})]}),Object(b.jsx)(U,{})]})})},M=function(e){localStorage.setItem("albums",JSON.stringify(e))},z=function(e){localStorage.setItem("photos",JSON.stringify(e))},B=function(e){var t=e.photo,a=Object(c.useContext)(J).addEvolution;return Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card text-center h-100",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("img",{src:t.src,alt:"...",className:"card-img-top"})}),Object(b.jsx)("h5",{className:"card-title",children:t.title}),Object(b.jsxs)("span",{className:"mb-3 d-flex justify-content-center align-items-center",children:[t.like,Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"text-primary bi bi-hand-thumbs-up-fill me-3",viewBox:"0 0 16 16",onClick:function(){return a(t.id,"like")},children:Object(b.jsx)("path",{d:"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z"})}),t.dislike,Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"text-primary bi bi-hand-thumbs-down-fill",viewBox:"0 0 16 16",onClick:function(){return a(t.id,"dislike")},children:Object(b.jsx)("path",{d:"M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.378 1.378 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51.136.02.285.037.443.051.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.896 1.896 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2.094 2.094 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.162 3.162 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.823 4.823 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591z"})})]})]})})},P=function(){var e=Object(c.useContext)(J),t=e.photos,a=e.getAlbumTitleByAlbumId,s=Object(d.g)(),n=s.id,r=s.author;console.log(n),console.log(r);var l=t.filter((function(e){return e.albumId===+n}));return Object(b.jsxs)("div",{className:"container mt-3",children:[Object(b.jsxs)("h3",{className:"text-center",children:['Album: "',a(n),'", by ',r]}),Object(b.jsx)("div",{className:"row row-cols-1 row-cols-md-4",children:l.map((function(e){return Object(b.jsx)(B,{photo:e},e.id)}))})]})},J=s.a.createContext();var H=function(){var e=Object(c.useState)(f()),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(JSON.parse(localStorage.getItem("currentUserId"))),r=Object(o.a)(n,2),m=r[0],u=r[1],x=function(){return a.find((function(e){return e.id===m}))},w=Object(c.useState)(function(){var e;return null!==(e=JSON.parse(localStorage.getItem("albums")))&&void 0!==e?e:[]}()),y=Object(o.a)(w,2),I=y[0],S=y[1],k=Object(c.useState)(function(){var e;return null!==(e=JSON.parse(localStorage.getItem("photos")))&&void 0!==e?e:[]}()),U=Object(o.a)(k,2),B=U[0],H=U[1],T=function(e){for(var t=B.filter((function(t){return+t.albumId===+e})),a=Object(l.a)(B),c=function(e){var c=B.indexOf(B.find((function(a){return+a.id===+t[e-1].id})));a.splice(c,1)},s=t.length;s>0;s--)c(s);H(a),z(a);var n=Object(l.a)(I),r=I.indexOf(I.find((function(t){return+t.id===+e})));n.splice(r,1),S(n),M(n)};return function(e){var t=a.some((function(t){return t.email===e.email})),c=Date.now(),n=Date.now();if(!t){var r=Object(i.a)(Object(i.a)({},e),{},{id:c}),o=[].concat(Object(l.a)(a),[r]);s(o),v(o),u(r.id),g(r.id);var d=[{cover:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJiCflOG6G1SJgWci31u3Syp2Xrsya-7uMhA&usqp=CAU",title:"First Album",id:n,userId:c}];S(d),M(d);var m=[{albumId:n,dislike:0,id:11111111,like:0,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRv7zsadIF5oN75MM7xq_xgVpNOU-P1VyQfxA&usqp=CAU",title:"Programmer"},{albumId:n,dislike:0,id:22222222,like:0,src:"https://p.kindpng.com/picc/s/171-1718046_javascript-programming-language-logo-hd-png-download.png",title:"Java-Script"},{albumId:n,dislike:0,id:33333333,like:0,src:"https://www.nicepng.com/png/detail/222-2224705_react-js-logo.png",title:"React"}];return H(m),z(m),!0}}({avatar:"https://aven-sys.com/wp-content/uploads/2016/03/demo.jpg",email:"demo",fName:"Demo",lName:"p: user",password:"user"}),Object(b.jsxs)(J.Provider,{value:{users:a,addUser:function(e){if(!a.some((function(t){return t.email===e.email}))){var t=Object(i.a)(Object(i.a)({},e),{},{id:Date.now()}),c=[].concat(Object(l.a)(a),[t]);return s(c),v(c),u(t.id),g(t.id),!0}return!1},changeCurrentUser:function(e){var t=function(e){var t=f().find((function(t){return t.email===e.email}));return t&&t.password===e.password?t.id:null}(e);return!!t&&(u(t),g(t),!0)},currentUser:m,getUserNameById:function(e){return a.find((function(t){return+t.id===e})).fName},logout:function(){u(null),N()},getCurrentUser:x,updateUser:function(e){var t=Object(l.a)(a);t[a.indexOf(x())]=e,s(t),v(t)},addNewAlbum:function(e){var t=[].concat(Object(l.a)(I),[Object(i.a)(Object(i.a)({},e),{},{id:Date.now()})]);S(t),M(t)},currentUserAlbums:function(){return I.filter((function(e){return e.userId===m}))},addNewPhoto:function(e){var t=[].concat(Object(l.a)(B),[Object(i.a)(Object(i.a)({},e),{},{id:Date.now(),like:0,dislike:0})]);H(t),z(t)},photos:B,albums:I,getAlbumTitleByAlbumId:function(e){return I.find((function(t){return t.id===+e})).title},addEvolution:function(e,t){var a=Object(l.a)(B);a[B.findIndex((function(t){return t.id===e}))][t]++,H(a),z(a)},deleteAlbum:T,deletePhoto:function(e){var t=Object(l.a)(B),a=B.indexOf(B.find((function(t){return+t.id===+e})));t.splice(a,1),H(t),z(t)},deleteUser:function(e){for(var t=I.filter((function(t){return+t.userId===+e})),c=Object(l.a)(I),n=Object(l.a)(B),r=[],i=[],o=function(e){r=B.filter((function(a){return+a.albumId===+t[e-1].id})),i.push(r),T(t[e-1].id);var a=I.indexOf(I.find((function(a){return+a.id===+t[e-1].id})));c.splice(a,1)},d=t.length;d>0;d--)o(d);i.forEach((function(e){for(var t=function(e){var t=B.indexOf(B.find((function(t){return+t.id===+i[e-1].id})));n.splice(t,1)},a=e.length;a>0;a--)t(a)})),H(n),z(n),S(c),M(c),u(null),N();var m=Object(l.a)(a),b=a.indexOf(a.find((function(t){return+t.id===+e})));m.splice(b,1),s(m),v(m)},currentAlbumPhotos:function(e){return B.filter((function(t){return+t.albumId===+e}))}},children:[Object(b.jsx)(j,{}),Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{exact:!0,path:"/album/:id/:author",component:P}),Object(b.jsx)(d.a,{exact:!0,path:"/user/:id",component:L}),Object(b.jsx)(d.a,{path:"/users",component:h}),Object(b.jsx)(d.a,{exact:!0,path:"/albums/user/:id",component:O}),Object(b.jsx)(d.a,{path:"/albums",component:O}),Object(b.jsx)(d.a,{path:"/login",component:A}),Object(b.jsx)(d.a,{path:"/registration",component:C}),Object(b.jsx)(d.a,{path:"/",component:p})]})]})};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(m.a,{children:Object(b.jsx)(H,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.4cdf23c1.chunk.js.map