(this.webpackJsonpclasswork_55=this.webpackJsonpclasswork_55||[]).push([[0],[,,,,,function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),o=n(6),c=n.n(o),s=(n(15),n(1)),a=n(4),l=n(7),d=n(8),u=n(10),j=n(9),b=(n(16),n(0));function h(e){var t;return Object(b.jsx)("h1",{children:null!==(t=e.title)&&void 0!==t?t:"Hello world!"})}n(18),n(5);var m=function(e){var t=e.id,n=e.quantity;return Object(b.jsx)(p.Consumer,{children:function(e){return Object(b.jsxs)("div",{className:"counter",children:[Object(b.jsxs)("h4",{children:["Quantity: ",n]}),Object(b.jsx)("button",{className:"button-style button-minus",onClick:function(){return e.onDecClickHandler(t)},children:"remove"}),Object(b.jsx)("button",{className:"button-style button-plus",onClick:function(){return e.onIncClickHandler(t)},children:"add"})]})}})};function O(e){var t=e.book,n=t.title,r=t.author,o=t.genre,c=t.yearIssue,s=t.cover,a=t.id,l=t.price,d=t.quantity,u=Object(i.useContext)(p).imgClickHandler;return Object(b.jsxs)("div",{className:"card",id:"book_"+a,children:[Object(b.jsx)("h2",{onClick:k,children:null!==n&&void 0!==n?n:"no data"}),Object(b.jsx)("h5",{children:null!==r&&void 0!==r?r:"no data"}),Object(b.jsxs)("p",{children:["Genre: ",null!==o&&void 0!==o?o:"no data"," "]}),Object(b.jsxs)("p",{children:["year of issue: ",c]})," ",Object(b.jsx)("img",{src:s,alt:null!==n&&void 0!==n?n:"no data",onClick:function(){return u(a)}}),Object(b.jsxs)("h3",{children:["Price: ",l," \u20ac"]}),Object(b.jsx)(m,{id:a,quantity:d}),Object(b.jsxs)("h3",{style:{color:"red"},children:["Total: ",l*d," \u20ac"]})]})}function k(e){e.target.style.color="red"}n(19);var f=function(e){var t=e.books;return Object(b.jsx)("div",{className:"card-list",children:t.map((function(e){return Object(b.jsx)(O,{book:e},e.id)}))})};function x(e){var t=e.book,n=t.title,i=t.author,r=t.genre,o=t.yearIssue,c=t.cover,s=e.closeClickHandler;return Object(b.jsxs)("div",{className:"full-info",children:[Object(b.jsx)("h2",{children:n}),Object(b.jsx)("h5",{children:i}),Object(b.jsxs)("p",{children:["Genre: ",r,", year of issue: ",o]}),Object(b.jsx)("img",{src:c,alt:n}),Object(b.jsx)("p",{children:" Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio iste qui ratione? Dolorum labore, ut similique nemo at ea? Voluptate modi esse nihil et molestiae ratione vel dignissimos neque provident mollitia autem voluptatum odit molestias deserunt, rem alias quae obcaecati perferendis repudiandae inventore nesciunt. Debitis inventore quae id vero adipisci!"}),Object(b.jsx)("button",{className:"button-style button-close",onClick:s,children:"close"})]})}n(20);function v(e){var t,n=e.message1,i=e.message2,r=e.closeModalClick;return document.addEventListener("keydown",(function(e){27===e.keyCode&&r()})),Object(b.jsx)("div",{className:"modal",children:Object(b.jsxs)("div",{className:"modal-dialog",children:[Object(b.jsx)("div",{className:"modal-close",onClick:r,children:"\xd7"}),Object(b.jsx)("h3",{className:"modal-text",children:n}),Object(b.jsxs)("h3",{className:"modal-text",children:[i,(t=i,t.length?Object(b.jsx)("span",{children:"\u20ac"}):"")]})]})})}var p=r.a.createContext(),g=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={books:[{id:0,title:"Harry Potter",author:"Joan Rowling",yearIssue:1995,genre:"Adventure",quantity:0,price:10,cover:"https://images2.medimops.eu/product/1cace5/M01408855666-large.jpg"},{id:1,title:"Lord of the Rings",author:"John Tolkien",yearIssue:1978,genre:"Saga",quantity:0,price:15,cover:"https://upload.wikimedia.org/wikipedia/en/e/e9/First_Single_Volume_Edition_of_The_Lord_of_the_Rings.gif"},{id:2,title:"Emma",author:"Jane Austin",yearIssue:1816,genre:"Saga",quantity:0,price:12,cover:"https://images2.medimops.eu/product/970156/M00007350783-large.jpg"}],currentBook:null,orderMode:!1,orderText1:"",orderText2:""},e.onIncClickHandler=function(t){var n=Object(a.a)(e.state.books),i=n.findIndex((function(e){return e.id===t}));if(i>=0&&n[i].quantity<10){var r=Object(s.a)({},n[i]);r.quantity++,n[i]=r,e.setState(Object(s.a)(Object(s.a)({},e.state),{},{books:n}))}},e.onDecClickHandler=function(t){var n=Object(a.a)(e.state.books),i=n.findIndex((function(e){return e.id===t}));if(i>=0&&n[i].quantity>0){var r=Object(s.a)({},n[i]);r.quantity--,n[i]=r,e.setState(Object(s.a)(Object(s.a)({},e.state),{},{books:n}))}},e.orderHandler=function(){var t=e.state.books.filter((function(e){return e.quantity>0})),n="Your order: ",i="";t.length?(t.forEach((function(e){return n+="".concat(e.title,", ")})),i="sum of your order: ".concat(t.reduce((function(e,t){return e+t.quantity*t.price}),0))):n+="is empty",e.setState(Object(s.a)(Object(s.a)({},e.state),{},{orderMode:!0,orderText1:n,orderText2:i}))},e.closeModalClick=function(){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{orderMode:!1}))},e.imgClickHandler=function(t){var n=e.state.books.findIndex((function(e){return e.id===t})),i=Object(s.a)({},e.state.books[n]);e.setState(Object(s.a)(Object(s.a)({},e.state),{},{currentBook:i}))},e.closeClickHandler=function(){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{currentBook:null}))},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(h,{title:"Bestseller / Buy Now!"}),Object(b.jsxs)(p.Provider,{value:{onIncClickHandler:this.onIncClickHandler,onDecClickHandler:this.onDecClickHandler,imgClickHandler:this.imgClickHandler},children:[this.state.currentBook?Object(b.jsx)(x,{book:this.state.currentBook,closeClickHandler:this.closeClickHandler}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{books:this.state.books}),Object(b.jsx)("button",{className:"order-button",onClick:this.orderHandler,children:"ORDER"})]}),this.state.orderMode?Object(b.jsx)(v,{message1:this.state.orderText1,message2:this.state.orderText2,closeModalClick:this.closeModalClick}):""]})]})}}]),n}(r.a.Component);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.9bc8ca38.chunk.js.map