(this.webpackJsonpclasswork_58=this.webpackJsonpclasswork_58||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),c=n(10),s=n.n(c),o=(n(16),n(1)),i=n(3),u=n(4),l=n(6),j=n(5),h=(n(17),n(7)),b=n(0),d=function(){return Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},m=function(t){var e=t.message;return Object(b.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})},O=function(t){var e=t.country,n=Object(r.useContext)(k);return console.log(e),Object(b.jsx)("div",{className:"col-6 col-sm-4 col-md-3",children:Object(b.jsx)("button",{onClick:function(){return n.changeCountry(e.strArea)},className:"btn btn-outline-primary my-1 w-100",children:e.strArea})})},f=n(9),p=n.n(f),y=n(11),v="https://www.themealdb.com/api/json/v1/1/",g=function(){function t(){Object(i.a)(this,t)}return Object(u.a)(t,null,[{key:"getCountries",value:function(){return fetch("".concat(v,"list.php?a=list")).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){throw new Error(t.message)}))}},{key:"getMealsByCountry",value:function(){var t=Object(y.a)(p.a.mark((function t(e){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(v,"filter.php?a=").concat(e));case 3:if(!(n=t.sent).ok){t.next=9;break}return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r);case 9:throw new Error(n.status);case 12:throw t.prev=12,t.t0=t.catch(0),new Error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),x=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={loading:!0,countries:[],error:null},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;g.getCountries().then((function(e){setTimeout((function(){t.setState(Object(o.a)(Object(o.a)({},t.state),{},{loading:!1,countries:Object(h.a)(e.meals)}))}),2e3)})).catch((function(e){t.setState(Object(o.a)(Object(o.a)({},t.state),{},{loading:!1,error:e.message}))}))}},{key:"renderCountries",value:function(){return Object(b.jsx)(b.Fragment,{children:this.state.loading?Object(b.jsx)(d,{}):this.state.error?Object(b.jsx)(m,{message:this.state.error}):this.state.countries.map((function(t){return Object(b.jsx)(O,{country:t},t.strArea)}))})}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"row",children:this.renderCountries()})}}]),n}(a.a.Component),C=function(t){var e=t.meal;return Object(b.jsx)("div",{className:"col-lg-3 col-md-4 col-6 mb-2 d-flex align-items-stretch",children:Object(b.jsxs)("div",{className:"card mb-2",children:[Object(b.jsx)("img",{src:e.strMealThumb,className:"card-img-top",alt:e.strMeal}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("h5",{className:"card-title",children:e.strMeal})})]})})},w=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={loading:!0,meals:[],error:null},t}return Object(u.a)(n,[{key:"renderMeals",value:function(){var t=Object(o.a)({},this.state),e=t.loading,n=t.meals,r=t.error;return e&&!r?Object(b.jsx)(d,{}):r?Object(b.jsx)(m,{}):n.map((function(t){return Object(b.jsx)(C,{meal:t},t.idMeal)}))}},{key:"componentChangeCountry",value:function(t){var e=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{loading:!0})),g.getMealsByCountry(t).then((function(t){setTimeout((function(){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{loading:!1,meals:Object(h.a)(t.meals)}))}),2e3)})).catch((function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{loading:!1,error:t.message}))}))}},{key:"componentDidMount",value:function(){this.componentChangeCountry(this.props.country)}},{key:"componentDidUpdate",value:function(t){t.country!==this.props.country&&this.componentChangeCountry(this.props.country)}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"row",children:this.renderMeals()})}}]),n}(a.a.Component),k=a.a.createContext(),N=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={currentCountry:null},t.changeCountry=function(e){t.setState(Object(o.a)(Object(o.a)({},t.state),{},{currentCountry:e}))},t.onClickHandler=function(){console.log("hello")},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)(k.Provider,{value:{changeCountry:this.changeCountry},children:Object(b.jsx)("div",{className:"container my-5",children:Object(b.jsx)(x,{})})}),Object(b.jsx)("div",{className:"container my-5",children:this.state.currentCountry?Object(b.jsx)(w,{country:this.state.currentCountry}):null})]})}}]),n}(a.a.Component);n(20);s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.03fea9ac.chunk.js.map